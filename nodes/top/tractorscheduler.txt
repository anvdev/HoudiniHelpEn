#type:     node
#context:  top
#internal: tractorscheduler
#icon:     TOP/tractorscheduler

= Tractor Scheduler =

"""Schedules work items using Pixar's Tractor."""

Using this scheduler will allow to use Pixar's Tractor to schedule work items on 
remote machines such as a farm.

This requires Pixar's Tractor to be installed and setup on the local machine.
The installed __tractor__ directory containing Python scripts must be specified
in __PYTHONPATH__. For example, on Windows this directory is typically located
at: C:\Program Files\Pixar\Tractor-2.2\lib\python2.7\Lib\site-packages        ractor

@top_attributes
::`tractor_jobid`:
    #type: integer

    When the schedule submits a work item to Tractor, it will add this
    attribute to the work item in order to track the Tractor job id.

@parameters

== Scheduler ==

These are global parameters for all work items using this scheduler.

[Include:_scheduler_common#pdg_workingdir]
    
Tractor Server Hostname:
    #id: tractor_hostname
    
    The Tractor server address.
    
Tractor Server Port:
    #id: tractor_port

    The Tractor server port.
    
    
[Include:_scheduler_common#localsharedroot]
    
    
Tractor Debug:
    #id: tractor_debug

    Enable Tractor debug output.
    
    
Tractor User:
    #id: tractor_user

    User name for Tractor server login.
    
    
Tractor Password:
    #id: tractor_pass

    Password for Tractor server login.
    
    
[Include:_scheduler_common#overrideportrange]
    
[Include:_scheduler_common#callbackportrange]
    
    
== Job Parms ==

These job specific parameters can be overridden by each node under the 
__Tractor Scheduler__ tab on the node's __Schedulers__ parameter interface.

Service Key Expression:
    #id: tractor_servicekeys
    
    The job service key. Used to specify the type of blade that supports running
    this job.
    
Limit Tags:
    #id: tractor_limittags

    The job limit tags. This is a space-separated list of strings representing
    the tags to be associated with every command of the job.
    
At Least Slots:
    #id: tractor_atleast
    
    The minimum number of free slots that must be available on a Tractor blade 
    in order to execute this command.
    
At Most Slots:
    #id: tractor_atmost
    
    The maximum number of free slots that this command will use when launched.
    
Tractor Env Keys:
    #id: tractor_envkeys
    
    Arbitrary keys that will be passed to the Tractor blade. This would be a 
    name or list of names or other strings.
    
Projects:
    #id: tractor_projects
    
    Names of project affiliations for this job.
    
Tier:
    #id: tractor_tier

    List of valid site-wide tiers, where each tier represents a particular
    global job priority and scheduling discipline.
    
    
Environment Override JSON:
    #id: tractor_setenv

    JSON string containing specific environment variables for each job. 
    
    Format should be: 
        {'VAR1' : 'VAR1Val', ...}
    
    
Job Dirmap JSON:
    #id: tractor_dirmap

    JSON string specifying the mapping of one path to another path under a given
    zone.
    
    Format should be:
        {"src":"X:/", "dst":"//render.company.com/hq/shared/pdg", "zone":"UNC"},
        {"src":"X:/", "dst":"/mnt/hq_pdg", "zone":"NFS"}
    

@related
- [Node:top/localscheduler]
- [Node:top/hqueuescheduler]
- [Node:top/pythonscheduler]
